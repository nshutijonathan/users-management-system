[{"/Users/jonathannshuti/Documents/users-management-system/src/index.js":"1","/Users/jonathannshuti/Documents/users-management-system/src/App.js":"2","/Users/jonathannshuti/Documents/users-management-system/src/reportWebVitals.js":"3","/Users/jonathannshuti/Documents/users-management-system/src/components/loginForm.js":"4","/Users/jonathannshuti/Documents/users-management-system/src/components/notFound.js":"5","/Users/jonathannshuti/Documents/users-management-system/src/components/navBar.js":"6","/Users/jonathannshuti/Documents/users-management-system/src/components/common/form.js":"7","/Users/jonathannshuti/Documents/users-management-system/src/components/common/input.js":"8","/Users/jonathannshuti/Documents/users-management-system/src/components/registerForm.js":"9","/Users/jonathannshuti/Documents/users-management-system/src/components/users.js":"10","/Users/jonathannshuti/Documents/users-management-system/src/components/userForm.js":"11","/Users/jonathannshuti/Documents/users-management-system/src/services/userService.js":"12","/Users/jonathannshuti/Documents/users-management-system/src/services/httpService.js":"13","/Users/jonathannshuti/Documents/users-management-system/src/services/authService.js":"14","/Users/jonathannshuti/Documents/users-management-system/src/components/logout.jsx":"15","/Users/jonathannshuti/Documents/users-management-system/src/components/welcome.js":"16"},{"size":635,"mtime":1610966845312,"results":"17","hashOfConfig":"18"},{"size":1762,"mtime":1611843323209,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":1610964726341,"results":"20","hashOfConfig":"18"},{"size":1462,"mtime":1611841920918,"results":"21","hashOfConfig":"18"},{"size":180,"mtime":1610966232099,"results":"22","hashOfConfig":"18"},{"size":1647,"mtime":1611842298793,"results":"23","hashOfConfig":"18"},{"size":1823,"mtime":1610965042033,"results":"24","hashOfConfig":"18"},{"size":365,"mtime":1610965094034,"results":"25","hashOfConfig":"18"},{"size":1365,"mtime":1611590835936,"results":"26","hashOfConfig":"18"},{"size":3286,"mtime":1611901457709,"results":"27","hashOfConfig":"18"},{"size":169,"mtime":1610972357195,"results":"28","hashOfConfig":"18"},{"size":560,"mtime":1611663419418,"results":"29","hashOfConfig":"18"},{"size":585,"mtime":1611323733609,"results":"30","hashOfConfig":"18"},{"size":227,"mtime":1611134319363,"results":"31","hashOfConfig":"18"},{"size":229,"mtime":1611217843988,"results":"32","hashOfConfig":"18"},{"size":163,"mtime":1611234160018,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"jkt16w",{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"36"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"36"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"36"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/jonathannshuti/Documents/users-management-system/src/index.js",[],["76","77"],"/Users/jonathannshuti/Documents/users-management-system/src/App.js",["78"],"import React, { Component } from \"react\";\nimport { Route, Redirect, Switch, Link } from \"react-router-dom\";\nimport jwtDecode from \"jwt-decode\";\nimport \"./App.css\";\nimport NavBar from \"./components/navBar\";\nimport LoginForm from \"./components/loginForm\";\nimport Logout from \"./components/logout\";\nimport RegisterForm from \"./components/registerForm\";\nimport Users from \"./components/users\";\nimport UserForm from \"./components/userForm\";\nimport NotFound from \"./components/notFound\";\nclass App extends Component {\n  state = {};\n  componentDidMount() {\n    try {\n      const jwt = localStorage.getItem(\"token\");\n      // if (!jwt) {\n      //   this.props.history.push(\"/login\");\n      // }\n\n      const user = jwtDecode(jwt);\n      this.setState({ user });\n    } catch (error) {}\n  }\n  render() {\n    const { user } = this.state;\n    return (\n      <React.Fragment>\n        <NavBar user={user} />\n        <main className=\"container\">\n          <Switch>\n            <Route path=\"/login\" component={LoginForm}></Route>\n            <Route path=\"/logout\" component={Logout}></Route>\n            <Route path=\"/register\" component={RegisterForm}></Route>\n            <Route\n              path=\"/users\"\n              render={(props) => {\n                if (!localStorage.getItem(\"token\")) {\n                  return <Redirect to=\"/login\" />;\n                }\n                return <Users {...props} user={user} />;\n              }}\n            ></Route>\n            <Route path=\"/users/:id\" component={UserForm}></Route>\n            <Route path=\"/not-found\" component={NotFound}></Route>\n            <Redirect from=\"/\" exact to=\"/\" />\n            <Redirect to=\"/not-found\" />\n          </Switch>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\nexport default App;\n","/Users/jonathannshuti/Documents/users-management-system/src/reportWebVitals.js",[],"/Users/jonathannshuti/Documents/users-management-system/src/components/loginForm.js",["79","80"],"import React, { Component } from \"react\";\nimport Form from \"./common/form\";\nimport Joi from \"joi-browser\";\nimport { login } from \"../services/authService\";\nimport { Redirect } from \"react-router-dom\";\nclass LoginForm extends Form {\n  state = {\n    user: {},\n    data: { username: \"\", password: \"\" },\n    errors: {},\n  };\n  schema = {\n    username: Joi.string().required().label(\"Username\"),\n    password: Joi.string().required().label(\" Password\"),\n  };\n\n  doSubmit = async () => {\n    //call the server\n    try {\n      const { data } = this.state;\n      const { data: values } = await login(data.username, data.password);\n      console.log(\"token\", values.token);\n      localStorage.setItem(\"token\", values.token);\n      window.location = \"/\";\n    } catch (ex) {\n      if (ex.response && ex.response.status === 401) {\n        console.log(\"errorMessage\", ex.response.data.message);\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data.message;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  render() {\n    // if (localStorage.getItem(\"token\")) return <Redirect to=\"/\" />;\n    return (\n      <div className=\"container\">\n        <h1>Log In</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"username\", \"Username\")}\n          {this.renderInput(\"password\", \"Password\", \"password\")}\n          {this.renderButton(\"Login\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","/Users/jonathannshuti/Documents/users-management-system/src/components/notFound.js",["81"],"import React, { Component } from \"react\";\nconst NotFound = () => {\n  return (\n    <div className=\"container\">\n      <h1>Not Found</h1>\n    </div>\n  );\n};\n\nexport default NotFound;\n","/Users/jonathannshuti/Documents/users-management-system/src/components/navBar.js",["82"],"import React, { Component } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nconst NavBar = ({ user }) => {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <Link className=\"navbar-brand\" to=\"/\">\n        Users Management\n      </Link>\n      <button\n        className=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n      <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n        <div className=\"navbar-nav\">\n          <NavLink className=\"nav-item nav-link\" to=\"/\">\n            Home\n          </NavLink>\n          {!user && (\n            <React.Fragment>\n              <NavLink className=\"nav-item nav-link\" to=\"/login\">\n                Login\n              </NavLink>\n              <NavLink className=\"nav-item nav-link\" to=\"/register\">\n                Register\n              </NavLink>\n            </React.Fragment>\n          )}\n          {user && (\n            <React.Fragment>\n              <NavLink className=\"nav-item nav-link\" to=\"/profile\">\n                {user.email}\n              </NavLink>\n              <NavLink className=\"nav-item nav-link\" to=\"/logout\">\n                logout\n              </NavLink>\n              <NavLink className=\"nav-item nav-link\" to=\"/users\">\n                Users\n              </NavLink>\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","/Users/jonathannshuti/Documents/users-management-system/src/components/common/form.js",["83"],"import React, { Component } from \"react\";\nimport Input from \"./input\";\nimport Joi from \"joi-browser\";\nclass Form extends Component {\n  state = {\n    data: {},\n    errors: {},\n  };\n  validate = () => {\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(this.state.data, this.schema, options);\n    if (!error) return null;\n    const errors = {};\n    for (let item of error.details) errors[item.path[0]] = item.message;\n    return errors;\n  };\n  // username = React.createRef();\n  //\n  validateProperty = ({ name, value }) => {\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n    return error ? error.details[0].message : null;\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    // const username = this.username.current.value;\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n    this.doSubmit();\n  };\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const errorMessage = this.validateProperty(input);\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n    this.setState({ data, errors });\n  };\n  renderButton = (label) => {\n    return (\n      <button disabled={this.validate()} className=\"btn btn-primary\">\n        {label}\n      </button>\n    );\n  };\n  renderInput = (name, label, type = \"text\") => {\n    const { data, errors } = this.state;\n    return (\n      <Input\n        type={type}\n        name={name}\n        value={this.state.data[name]}\n        label={label}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  };\n}\n\nexport default Form;\n","/Users/jonathannshuti/Documents/users-management-system/src/components/common/input.js",["84"],"import React, { Component } from \"react\";\nconst Input = ({ name, label, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <input {...rest} name={name} id={name} className=\"form-control\" />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","/Users/jonathannshuti/Documents/users-management-system/src/components/registerForm.js",["85","86"],"import React, { Component } from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"./common/form\";\nimport { register, getUsers } from \"../services/userService\";\nclass RegisterForm extends Form {\n  state = {\n    data: {\n      username: \"\",\n      password: \"\",\n      name: \"\",\n    },\n    errors: {},\n  };\n  schema = {\n    username: Joi.string().required().email().label(\"Username\"),\n    password: Joi.string().required().min(5).label(\"Password\"),\n    name: Joi.string().required().label(\"Name\"),\n  };\n  doSubmit = async () => {\n    try {\n      const response = await register(this.state.data);\n      localStorage.setItem(\"token\", response.data.token);\n      window.location = \"/\";\n    } catch (ex) {\n      if (ex.response && ex.response.status === 409) {\n        console.log(\"errorMessage\", ex.response.data.message);\n        const errors = { ...this.state.errors };\n        errors.username = ex.response.data.message;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Register</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"username\", \"Username\")}\n          {this.renderInput(\"password\", \"Password\", \"password\")}\n          {this.renderInput(\"name\", \"Name\")}\n          {this.renderButton(\"Register\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n","/Users/jonathannshuti/Documents/users-management-system/src/components/users.js",["87","88","89"],"/Users/jonathannshuti/Documents/users-management-system/src/components/userForm.js",[],"/Users/jonathannshuti/Documents/users-management-system/src/services/userService.js",[],"/Users/jonathannshuti/Documents/users-management-system/src/services/httpService.js",["90"],"import axios from \"axios\";\nimport { getJwt } from \"./userService.js\";\nimport { toast } from \"react-toastify\";\n\naxios.defaults.headers.common[\"x-auth-token\"] = getJwt();\n\naxios.interceptors.response.use(null, (error) => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 409 &&\n    error.response.status < 500;\n  if (!expectedError) {\n    console.log(\"Logging the error\", error);\n    toast(\"Unexpected error occured\");\n  }\n\n  return Promise.reject(error);\n});\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n};\n","/Users/jonathannshuti/Documents/users-management-system/src/services/authService.js",[],"/Users/jonathannshuti/Documents/users-management-system/src/components/logout.jsx",["91"],"import React, { Component } from \"react\";\nclass Logout extends Component {\n  componentDidMount() {\n    localStorage.removeItem(\"token\");\n    window.location = \"/\";\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default Logout;\n","/Users/jonathannshuti/Documents/users-management-system/src/components/welcome.js",[],{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","severity":1,"message":"97","line":2,"column":35,"nodeType":"98","messageId":"99","endLine":2,"endColumn":39},{"ruleId":"96","severity":1,"message":"100","line":1,"column":17,"nodeType":"98","messageId":"99","endLine":1,"endColumn":26},{"ruleId":"96","severity":1,"message":"101","line":5,"column":10,"nodeType":"98","messageId":"99","endLine":5,"endColumn":18},{"ruleId":"96","severity":1,"message":"100","line":1,"column":17,"nodeType":"98","messageId":"99","endLine":1,"endColumn":26},{"ruleId":"96","severity":1,"message":"100","line":1,"column":17,"nodeType":"98","messageId":"99","endLine":1,"endColumn":26},{"ruleId":"96","severity":1,"message":"102","line":50,"column":13,"nodeType":"98","messageId":"99","endLine":50,"endColumn":17},{"ruleId":"96","severity":1,"message":"100","line":1,"column":17,"nodeType":"98","messageId":"99","endLine":1,"endColumn":26},{"ruleId":"96","severity":1,"message":"100","line":1,"column":17,"nodeType":"98","messageId":"99","endLine":1,"endColumn":26},{"ruleId":"96","severity":1,"message":"103","line":4,"column":20,"nodeType":"98","messageId":"99","endLine":4,"endColumn":28},{"ruleId":"96","severity":1,"message":"104","line":3,"column":20,"nodeType":"98","messageId":"99","endLine":3,"endColumn":28},{"ruleId":"96","severity":1,"message":"105","line":30,"column":13,"nodeType":"98","messageId":"99","endLine":30,"endColumn":21},{"ruleId":"106","severity":1,"message":"107","line":32,"column":49,"nodeType":"108","messageId":"109","endLine":32,"endColumn":51},{"ruleId":"110","severity":1,"message":"111","line":19,"column":1,"nodeType":"112","endLine":24,"endColumn":3},{"ruleId":"96","severity":1,"message":"113","line":1,"column":8,"nodeType":"98","messageId":"99","endLine":1,"endColumn":13},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Component' is defined but never used.","'Redirect' is defined but never used.","'data' is assigned a value but never used.","'getUsers' is defined but never used.","'addUsers' is defined but never used.","'response' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'React' is defined but never used.","no-global-assign","no-unsafe-negation"]